# 选型参考

个人建议，仅供参考。

## 即席查询（Ad Hoc）

### ClickHouse/Doris

- 如果有明确分区字段的数据，且查询条件与时间相关，那么优先选择ClickHouse，比如访问日志可替代ELK中的ElasticSearch。
- 如果是没有明确分区的业务数据，且存在大表JOIN关联查询，那么优先选择Doris。
- ClickHouse对分区敏感，需要手动处理数据版本，在单表查询聚合的性能表现上较好且稳定；多表聚合需要的内存开销较大耗时较长。
- Doris可自动管理BUCKETS分桶，对业务数据友好，单表查询的直接性能不如ClickHouse，但二次查询走缓存时耗时较低，同时支持索引或视图加速。多表查询性能比ClickHouse高很多，内存开销也较小。
